
#### TO-DO ####
- EFS (mount point) 
- Route Table (?)

- LoadBalancer
- TargetGroup
- Listener

- AutoScaling Group
- Launch template

- Instance profile 
- Role (policy)

Collegamento WP-RDS-EFS ? 
Con immutable è facile.

* Extras
- PatchManager
- CloudWatch Alarm
- Lambda/EventBridge (CH6)

#### ARCH ####
SubenetA(EC2 + RDS)
Subenetb(EC2 + EFS)

WP SecurityGroup
RDS SecurityGroup
EFS SecurityGroup
LoadBalancer SecurityGroup


Come imposto le credenziali del DB in modo sicuro?

Le istanze EC2 rispondono direttamente, oppure passano per ALB? 
Nel primo caso avrebbero bisogno di un NAT ed una ROUTE. 


**********
- Teoria 
Un security group per il load balancer, accetta dall'esterno. 
EC2 accetta solo da altri security groups. 

Devo aggiungere un IGW per l'ALB, perché IGW è legato alla VPC.
Visto che IGW non è legato a nessuna subnet, non ne serve una per ALB. 

Le regole del security group determinano quali 
risorse possono comunicare con la risorsa associata.
Le subnet determinano in quale parte della VPC risiede la risorsa.

Traffic between subnets of a VPC is always routed by default. You can’t remove the
routes between the subnets. If you want to prevent traffic between subnets in a VPC,
you need to use NACLs attached to the subnets.